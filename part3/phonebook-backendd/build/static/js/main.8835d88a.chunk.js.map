{"version":3,"sources":["components/Persons.js","components/NewPerson.js","components/FindPerson.js","services/PersonService.js","components/Notification.js","App.js","index.js"],"names":["persons","deleteNumber","map","person","i","key","className","name","number","onClick","id","AddNumber","newName","setNewName","newNumber","setNumber","onSubmit","value","onChange","event","target","type","Filter","setPerson","Person","BaseURL","axios","get","then","response","data","delete","newObj","put","post","message","App","useState","Initial","setInitial","setPersons","Message","setMessage","useEffect","PersonService","InitialData","Notification","FindPerson","filter","toLowerCase","indexOf","NewPerson","preventDefault","undefined","find","NewPer","console","log","concat","setTimeout","catch","error","window","confirm","perObj","newOb","per","status","Persons","Res","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8835d88a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default ({persons,deleteNumber}) => persons.map((person,i) => \r\n<p key={i} className='person'>{person.name} {person.number} <button onClick={()=>{deleteNumber(person.id)}}>delete</button> </p>\r\n)","import React from 'react'\r\n\r\n\r\nexport default ({AddNumber,newName,setNewName,newNumber,setNumber}) =>{\r\n    return(\r\n    <form onSubmit={AddNumber}>\r\n    <div>\r\n      name: <input\r\n       value={newName} \r\n       onChange={(event)=>{setNewName(event.target.value);}}\r\n       />\r\n    </div>\r\n    <div>\r\n      number: <input\r\n       value={newNumber} \r\n       onChange={(event)=>setNumber(event.target.value)}\r\n       />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default ({Filter,setPerson,Person}) => {\r\n    return(\r\n        <div>\r\n        search for people\r\n        <input \r\n        value={Person}\r\n        onChange={(event)=>{setPerson(event.target.value); Filter(event.target.value)}}\r\n        >   \r\n        </input>\r\n        </div>\r\n    )\r\n}","import axios from 'axios'\r\nconst BaseURL = '/api/persons'\r\n\r\nconst getAll = ()=>{\r\n    return axios.get(BaseURL).then(response => response.data)\r\n}\r\nconst deleteNumber = (id)=>{\r\n    return axios.delete(`${BaseURL}/${id}`).then(response => {})\r\n}\r\n\r\nconst updateNumber = (id,newObj) => {\r\nreturn axios.put(`${BaseURL}/${id}`,newObj).then(response => response.data)\r\n}\r\nconst addNumber = (newObj) =>{\r\n    return axios.post(`${BaseURL}`,newObj).then(response => response.data)\r\n}\r\nexport  default{\r\n    getAll,\r\n    deleteNumber,\r\n    updateNumber,\r\n    addNumber\r\n}","import React from 'react'\r\n\r\nexport default ({ message,type }) => {\r\n    if(message===null) return <></>\r\n    else if (type === 'succ'){\r\n    return (\r\n      <div className=\"success\">\r\n        {message}\r\n      </div>\r\n    )\r\n    }\r\n    else {\r\n        return (\r\n            <div className=\"error\">\r\n              {message}\r\n            </div>\r\n          )\r\n    }\r\n  }\r\n","import React, { useState , useEffect } from 'react'\r\nimport Persons from './components/Persons.js'\r\nimport NewPerson from './components/NewPerson.js'\r\nimport FindPerson from './components/FindPerson.js'\r\nimport PersonService from './services/PersonService'\r\nimport Notification from './components/Notification'\r\nconst App = () => {\r\n  const[Initial,setInitial] = useState([])\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNumber ] = useState('')\r\n  const [Person , setPerson] = useState('')\r\n  const [Message, setMessage] = useState({message : null,type : null})\r\n  useEffect(() => {\r\n    PersonService.getAll().then(InitialData => {\r\n    setInitial(InitialData)\r\n    setPersons(InitialData)\r\n  })}, [])\r\n  const AddNumber = (event) =>{\r\n    event.preventDefault();\r\n    if(persons.find(person=>person.name.toLowerCase() === newName.toLowerCase()) === undefined){\r\n      const Numberobj = {\r\n        name : newName,\r\n        number : newNumber\r\n      }\r\n      PersonService.addNumber(Numberobj).then(NewPer => {\r\n      console.log(NewPer)\r\n      setPersons(persons.concat(NewPer))\r\n      setInitial(Initial.concat(NewPer))\r\n      setMessage({\r\n        message : 'Number was succesfully added',\r\n        type : 'succ'\r\n      }\r\n      )\r\n      setTimeout(() => {\r\n        setMessage({\r\n          message : null,\r\n          type : null\r\n        })\r\n      }, 5000)\r\n    }).catch(error=>{\r\n      setMessage({\r\n        message : error.response.data.message,\r\n        type : 'err'\r\n      }\r\n      )\r\n      setTimeout(() => {\r\n        setMessage({\r\n          message : null,\r\n          type : null\r\n        })\r\n      }, 5000)\r\n    })\r\n    }\r\n    else {\r\n      if(window.confirm(`${newName} is already in database do you want to update a number ?`)){\r\n        const perObj = persons.find(person=>person.name.toLowerCase() === newName.toLowerCase())\r\n        const newObj = {...perObj,number:newNumber}\r\n        PersonService.updateNumber(perObj.id,newObj).then(newOb =>{\r\n          setMessage({\r\n            message : 'Number was succesfully changed',\r\n            type : 'succ'\r\n          }\r\n          )\r\n          setTimeout(() => {\r\n            setMessage({\r\n              message : null,\r\n              type : null\r\n            })\r\n          }, 5000)\r\n          setInitial(Initial.map(per => per.id === newOb.id ? newOb: per))\r\n          setPersons(persons.map(per => per.id === newOb.id ? newOb: per))\r\n        }).catch(error=>{\r\n          setMessage({\r\n            message : error.response.data,\r\n            type : 'err'\r\n          }\r\n          )\r\n          setTimeout(() => {\r\n            setMessage({\r\n              message : null,\r\n              type : null\r\n            })\r\n          }, 5000)\r\n          if(error.response.status === 500){\r\n          setInitial(Initial.filter(per => per.id !== newObj.id))\r\n          setPersons(persons.filter(per => per.id !== newObj.id))\r\n          }\r\n        })\r\n      }\r\n    }\r\n    setNewName('')\r\n    setNumber('')\r\n  }\r\n  const Filter = (value) =>{\r\n    if(value === ''){\r\n      setPersons(Initial);\r\n    }\r\n    else {\r\n      setPersons(Initial.filter(person => person.name.toLowerCase().indexOf(value.toLowerCase()) !== -1))\r\n    }\r\n  }\r\n  const deleteNumber = (id) =>{\r\n    if(window.confirm('You really want to delete this phone number ?! ')){\r\n    PersonService.deleteNumber(id).then(Res =>{\r\n      setMessage({\r\n        message : 'Number was succesfully deleted',\r\n        type : 'succ'\r\n      }\r\n      )\r\n      setTimeout(() => {\r\n        setMessage({\r\n          message : null,\r\n          type : null\r\n        })\r\n      }, 5000)\r\n    })\r\n    setInitial(Initial.filter(per => per.id !== id))\r\n    setPersons(persons.filter(per=> per.id !== id))\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <Notification message={Message.message} type={Message.type}/>\r\n      <h2 className='titles'>Phonebook</h2>\r\n      <FindPerson Filter={Filter} setPerson={setPerson} Person={Person}/>\r\n      <h2 className='titles'>Add number</h2>\r\n      <NewPerson AddNumber={AddNumber} newName={newName} setNewName={setNewName} newNumber={newNumber} setNumber={setNumber}/>\r\n      <h2 className='titles'>Numbers</h2>\r\n      <Persons persons={persons} deleteNumber={deleteNumber}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js'\nimport './index.css'\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}